(function(e){function t(t){for(var i,a,c=t[0],s=t[1],u=t[2],p=0,f=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("GIS")],1)},o=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gisComponent",style:e.style,attrs:{id:"cesiumContainer"}})},c=[],s=n("2909"),u=n("1da1"),l=(n("96cf"),n("159b"),n("99af"),n("b0c0"),n("d3b7"),n("73ef")),p=n.n(l),f=n("4328"),m=n.n(f);p.a.create({baseURL:"",timeout:1e4,headers:{get:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8"},post:{"Content-type":"application/json"}}});p.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),p.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var d={get:function(e,t){return new Promise((function(n,i){p.a.get(e,{params:t}).then((function(e){n(e)})).catch((function(e){i(e)}))}))},post:function(e,t){return new Promise((function(n,i){p.a.post(e,m.a.stringify(t)).then((function(e){n(e)})).catch((function(e){i(e)}))}))}},v={data:function(){return{style:{},viewer:null}},mounted:function(){var e=this;this.setScreen(),window.addEventListener("resize",this.setScreen()),this.$nextTick((function(){e.initMap()}))},methods:{setScreen:function(){var e=window.innerWidth,t=window.innerHeight;this.style={width:e+"px",height:t+"px"}},initMap:function(){Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkZDM2MTE2MS0xZGNjLTRiMzktYWU3ZS00NDIwNGE0NTJjYTEiLCJpZCI6NTM1NDQsImlhdCI6MTYxOTIzMTg3Mn0.BQTAdgSPIDl6JwVNdmPiWuKvBv5qxD4qyNDm2qMkvYE",this.viewer=new Cesium.Viewer("cesiumContainer",{geocoder:!1,homeButton:!1,sceneModePicker:"3D",scene3DOnly:!0,baseLayerPicker:!1,navigationHelpButton:!1,selectionIndicator:!1,animation:!1,timeline:!1,infoBox:!1,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",maximumLevel:23})}),this.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(103.823557,36.058039,6978702.439565099)}),this.viewer.dataSources.add(Cesium.GeoJsonDataSource.load("./gis/data/china.json",{stroke:Cesium.Color.DARKSLATEBLUE,fill:new Cesium.Color(0,0,0,0)})),this.gisClick(),this.drawPoint()},drawPoint:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.get("./gis/data/china.json");case 2:n=t.sent,200===n.status&&(i=n.data.features,i.forEach((function(t,n){var i,r=t.properties.center;e.viewer.entities.add({id:"landmark".concat(n),name:"point-layer",position:(i=Cesium.Cartesian3).fromDegrees.apply(i,Object(s["a"])(r).concat([0])),point:{color:Cesium.Color.WHITE,pixelSize:5,outlineWidth:2,outlineColor:Cesium.Color.RED},label:{show:!0,text:t.properties.name,font:"14pt",fillColor:Cesium.Color.BLUE,pixelOffset:new Cesium.Cartesian2(0,-15)},option:{name:t.properties.name}})})));case 4:case"end":return t.stop()}}),t)})))()},gisClick:function(){var e=this,t=this.viewer.scene,n=new Cesium.ScreenSpaceEventHandler(t.canvas);n.setInputAction((function(n){var i=t.pick(n.position);if(Cesium.defined(i)){var r=t.globe.ellipsoid;r.cartesianToCartographic(e.viewer.camera.position).height;e.viewer.entities.add({id:"line",name:"线条",polyline:{positions:Cesium.Cartesian3.fromDegreesArray([103.823557,36.058039,87.617733,43.792818]),width:2,material:Cesium.Color.RED,clampToGround:!0}})}}),Cesium.ScreenSpaceEventType.LEFT_CLICK)},mapRotate:function(){var e=this,t=Cesium.Cartesian3.fromDegrees(103.823557,36.058039,6e5),n=Cesium.Math.toRadians(-90),i=12,r=5e4,o=Cesium.JulianDate.fromDate(new Date);e.viewer.clock.startTime=o.clone(),e.viewer.clock.currentTime=o.clone(),e.viewer.clock.clockRange=Cesium.ClockRange.CLAMPED,e.viewer.clock.clockStep=Cesium.ClockStep.SYSTEM_CLOCK;var a=e.viewer.camera.heading,c=function(){var o=Cesium.JulianDate.secondsDifference(e.viewer.clock.currentTime,e.viewer.clock.startTime),s=Cesium.Math.toRadians(o*i)+a;e.viewer.scene.camera.setView({destination:t,orientation:{heading:s,pitch:n,roll:0}}),e.viewer.scene.camera.moveBackward(r),Cesium.JulianDate.compare(e.viewer.clock.currentTime,e.viewer.clock.stopTime)>=0&&e.viewer.clock.onTick.removeEventListener(c)};e.viewer.clock.onTick.addEventListener(c)}}},h=v,w=(n("695d"),n("2877")),C=Object(w["a"])(h,a,c,!1,null,"00962760",null),g=C.exports,y={components:{GIS:g}},k=y,b=(n("034f"),Object(w["a"])(k,r,o,!1,null,null,null)),T=b.exports,S=n("8c4f");i["a"].use(S["a"]);var D=[],x=new S["a"]({mode:"history",base:"/",routes:D}),I=x,M=n("2f62");i["a"].use(M["a"]);var E=new M["a"].Store({state:{},mutations:{},actions:{},modules:{}});i["a"].config.productionTip=!1,new i["a"]({router:I,store:E,render:function(e){return e(T)}}).$mount("#app")},"65fb":function(e,t,n){},"695d":function(e,t,n){"use strict";n("65fb")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.d3ca5951.js.map